<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Kinetis Bootloader: SB File Format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis Bootloader
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">Common bootloader for Kinetis devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Introduction</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__sb__file__format.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">SB File Format<div class="ingroups"><a class="el" href="group__sbloader.html">SB Loader</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SB file format definitions.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for SB File Format:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__sb__file__format.svg" width="252" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structsb__version__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__version__t">sb_version_t</a></td></tr>
<tr class="memdesc:structsb__version__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Version struct used in SB files.  <a href="group__sb__file__format.html#structsb__version__t">More...</a><br /></td></tr>
<tr class="separator:structsb__version__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsb__image__header__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__image__header__t">sb_image_header_t</a></td></tr>
<tr class="memdesc:structsb__image__header__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header for the entire boot image.  <a href="group__sb__file__format.html#structsb__image__header__t">More...</a><br /></td></tr>
<tr class="separator:structsb__image__header__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsb__dek__dictionary__entry__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__dek__dictionary__entry__t">sb_dek_dictionary_entry_t</a></td></tr>
<tr class="memdesc:structsb__dek__dictionary__entry__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry in <a class="el" href="group__sb__file__format.html#structsb__dek__dictionary__t" title="The DEK dictionary always follows the image header, in the next cipher block. ">sb_dek_dictionary_t</a>.  <a href="group__sb__file__format.html#structsb__dek__dictionary__entry__t">More...</a><br /></td></tr>
<tr class="separator:structsb__dek__dictionary__entry__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsb__dek__dictionary__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__dek__dictionary__t">sb_dek_dictionary_t</a></td></tr>
<tr class="memdesc:structsb__dek__dictionary__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">The DEK dictionary always follows the image header, in the next cipher block.  <a href="group__sb__file__format.html#structsb__dek__dictionary__t">More...</a><br /></td></tr>
<tr class="separator:structsb__dek__dictionary__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsb__section__header__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__section__header__t">sb_section_header_t</a></td></tr>
<tr class="memdesc:structsb__section__header__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about each section, held in the section table.  <a href="group__sb__file__format.html#structsb__section__header__t">More...</a><br /></td></tr>
<tr class="separator:structsb__section__header__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structsb__section__table__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sb__file__format.html#structsb__section__table__t">sb_section_table_t</a></td></tr>
<tr class="memdesc:structsb__section__table__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">An index of all sections within the boot image.  <a href="group__sb__file__format.html#structsb__section__table__t">More...</a><br /></td></tr>
<tr class="separator:structsb__section__table__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gabc6126af1d45847bc59afa0aa3216b04"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__sb__file__format.html#ggabc6126af1d45847bc59afa0aa3216b04af3772a8a2c141ecd55e7bf3f7940155e">ROM_DISPLAY_PROGRESS</a> = (1 &lt;&lt; 0), 
<br />
&#160;&#160;<a class="el" href="group__sb__file__format.html#ggabc6126af1d45847bc59afa0aa3216b04a508a440c599acdf52cff16397cd58fe2">ROM_VERBOSE_PROGRESS</a> = (1 &lt;&lt; 1)
<br />
 }</td></tr>
<tr class="memdesc:gabc6126af1d45847bc59afa0aa3216b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag constants for the m_flags field of <a class="el" href="group__sb__file__format.html#structsb__image__header__t" title="Header for the entire boot image. ">sb_image_header_t</a>.  <a href="group__sb__file__format.html#gabc6126af1d45847bc59afa0aa3216b04">More...</a><br /></td></tr>
<tr class="separator:gabc6126af1d45847bc59afa0aa3216b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc29c2ff13d900c2f185ee95427fb06c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="group__sb__file__format.html#ggadc29c2ff13d900c2f185ee95427fb06ca38cc512e287d441e317ec2bba9b3b0c0">ROM_SECTION_BOOTABLE</a> = (1 &lt;&lt; 0), 
<br />
&#160;&#160;<a class="el" href="group__sb__file__format.html#ggadc29c2ff13d900c2f185ee95427fb06ca3973a06d46c03b5607ca7f44d2b58deb">ROM_SECTION_CLEARTEXT</a> = (1 &lt;&lt; 1)
<br />
 }</td></tr>
<tr class="memdesc:gadc29c2ff13d900c2f185ee95427fb06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Section flags constants for the m_flags field of <a class="el" href="group__sb__file__format.html#structsb__section__header__t" title="Information about each section, held in the section table. ">sb_section_header_t</a>.  <a href="group__sb__file__format.html#gadc29c2ff13d900c2f185ee95427fb06c">More...</a><br /></td></tr>
<tr class="separator:gadc29c2ff13d900c2f185ee95427fb06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Usage Information</h2>
<p>SB file format definitions. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structsb__version__t" id="structsb__version__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_version_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Version struct used in SB files. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a5e8d36782bed4c39d93484b3f4c786c6"></a>uint16_t</td>
<td class="fieldname">
m_major</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a17d38d7c071f0c66c53a7d42e84cb38e"></a>uint16_t</td>
<td class="fieldname">
m_minor</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abb411c0525ab9938a92e7d661ea895a5"></a>uint16_t</td>
<td class="fieldname">
m_pad0</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa212dd385d482b99435489bb34ddcb05"></a>uint16_t</td>
<td class="fieldname">
m_pad1</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a855b4a273a69e432a04b99ae27e4a461"></a>uint16_t</td>
<td class="fieldname">
m_pad2</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9c6919316d8d9a90956fa32b3e41802b"></a>uint16_t</td>
<td class="fieldname">
m_revision</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structsb__image__header__t" id="structsb__image__header__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_image_header_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Header for the entire boot image. </p>
<p>Fields of this header are arranged so that those used by the bootloader ROM all come first. They are also set up so that all fields are not split across cipher block boundaries. The fields not used by the bootloader are not subject to this restraint.</p>
<p>Image header size is always a round number of cipher blocks. The same also applies to the boot image itself. The padding, held in #sb_image_header_t::m_padding0 and #sb_image_header_t::m_padding1 is filled with random bytes.</p>
<p>The DEK dictionary, section table, and each section data region must all start on cipher block boundaries.</p>
<p>This header is not encrypted in the image file.</p>
<p>The m_digest field contains a SHA-1 digest of the fields of the header that follow it. It is the first field in the header so it doesn't change position or split the header in two if fields are added to the header. </p>
</div><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for sb_image_header_t:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structsb__image__header__t__coll__graph.svg" width="210" height="142"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0828b3c58482b5251a77fa8749554a8e"></a><a class="el" href="group__sb__file__format.html#structsb__version__t">sb_version_t</a></td>
<td class="fieldname">
m_componentVersion</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6e451f373a1722338396517bc98c605d"></a>uint8_t</td>
<td class="fieldname">
m_digest[20]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae6f3027fd8e55dd7ae2de8781c8d0f5f"></a>uint16_t</td>
<td class="fieldname">
m_driveTag</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="acb89d6b66b3d233eebce0390b1e7dc34"></a>uint32_t</td>
<td class="fieldname">
m_firstBootableSectionID</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad4ee71fd8631e47805e865e6ae88ab8d"></a>uint32_t</td>
<td class="fieldname">
m_firstBootTagBlock</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ada8c4e6ce2f5924429d8a32bdd2b9f05"></a>uint16_t</td>
<td class="fieldname">
m_flags</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aa9f27a911e79cf485c2e37c43c917cd5"></a>uint16_t</td>
<td class="fieldname">
m_headerBlocks</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4108160aa20afe9d45c4d3fbf3de6756"></a>uint32_t</td>
<td class="fieldname">
m_imageBlocks</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a70c4e6f3539c85e2b72607c345783881"></a>uint16_t</td>
<td class="fieldname">
m_keyCount</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a8f11e21eba5ac7c01c19b40392159981"></a>uint16_t</td>
<td class="fieldname">
m_keyDictionaryBlock</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9cec7672f43b0a1e2f4c247befd62216"></a>uint8_t</td>
<td class="fieldname">
m_majorVersion</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a4bb951a8abec40d74e012fd331de186c"></a>uint8_t</td>
<td class="fieldname">
m_minorVersion</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a02f312b8c5c854f984eef8713d49cc73"></a>uint8_t</td>
<td class="fieldname">
m_padding0[2]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2abfb9719ad1690520db39da3f640227"></a>uint8_t</td>
<td class="fieldname">
m_padding1[6]</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a43186542cd404ad809d4890363abb3f0"></a><a class="el" href="group__sb__file__format.html#structsb__version__t">sb_version_t</a></td>
<td class="fieldname">
m_productVersion</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0f4930a3c69a8166c5e4adf729153dc9"></a>uint16_t</td>
<td class="fieldname">
m_sectionCount</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ab599dd10d9a9868e8856ded1114bf3aa"></a>uint16_t</td>
<td class="fieldname">
m_sectionHeaderSize</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a79fa91e930ad4ab19b968ff849a13198"></a>uint32_t</td>
<td class="fieldname">
m_signature</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6e2b5900a8603c1d69da620b0c0d6751"></a>uint32_t</td>
<td class="fieldname">
m_signature2</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abca3162b598f9402cd252c7787afaacc"></a>uint64_t</td>
<td class="fieldname">
m_timestamp</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structsb__dek__dictionary__entry__t" id="structsb__dek__dictionary__entry__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_dek_dictionary_entry_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Entry in <a class="el" href="group__sb__file__format.html#structsb__dek__dictionary__t" title="The DEK dictionary always follows the image header, in the next cipher block. ">sb_dek_dictionary_t</a>. </p>
<p>The m_dek field in each entry is encrypted using the KEK with the m_iv field from the image header as the IV. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a9c40b7885bbcc1d1898ed8ded029291c"></a>uint8_t</td>
<td class="fieldname">
m_dek[16]</td>
<td class="fielddoc">
AES-128 key with which the image payload is encrypted. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aed8bea113132e54b847b701d497d47bc"></a>uint8_t</td>
<td class="fieldname">
m_mac[16]</td>
<td class="fielddoc">
CBC-MAC of the header. </td></tr>
</table>

</div>
</div>
<a name="structsb__dek__dictionary__t" id="structsb__dek__dictionary__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_dek_dictionary_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>The DEK dictionary always follows the image header, in the next cipher block. </p>
</div><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Collaboration diagram for sb_dek_dictionary_t:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structsb__dek__dictionary__t__coll__graph.svg" width="186" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aae21348d78cc620f3426108ada8265db"></a><a class="el" href="group__sb__file__format.html#structsb__dek__dictionary__entry__t">sb_dek_dictionary_entry_t</a></td>
<td class="fieldname">
m_entries[1]</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="structsb__section__header__t" id="structsb__section__header__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_section_header_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Information about each section, held in the section table. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__sb__file__format.html#structsb__section__table__t" title="An index of all sections within the boot image. ">sb_section_table_t</a> </dd></dl>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a50a1c543ec1f179169db09bc925c110c"></a>uint32_t</td>
<td class="fieldname">
m_flags</td>
<td class="fielddoc">
Section flags. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a7efb02d833a86d15eb8798d69e0c2444"></a>uint32_t</td>
<td class="fieldname">
m_length</td>
<td class="fielddoc">
Size of section data in blocks. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac227ebe55a09740cd8c38cb927a65ce9"></a>uint32_t</td>
<td class="fieldname">
m_offset</td>
<td class="fielddoc">
Offset to section data from start of image in blocks. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac37b43f3662d17a7fb4706ee82033039"></a>uint32_t</td>
<td class="fieldname">
m_tag</td>
<td class="fielddoc">
Unique identifier for this section. High bit must be zero. </td></tr>
</table>

</div>
</div>
<a name="structsb__section__table__t" id="structsb__section__table__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct sb_section_table_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>An index of all sections within the boot image. </p>
<p>The section table will be padded so that its length is divisible by 16 (if necessary). Actually, each entry is padded to be a round number of cipher blocks, which automatically makes this true for the entire table.</p>
<p>Sections are ordered as they appear in this table, but are identified by the <a class="el" href="group__sb__file__format.html#ac37b43f3662d17a7fb4706ee82033039" title="Unique identifier for this section. High bit must be zero. ">sb_section_header_t::m_tag</a>.</p>
<p>The data for each section in encrypted separately with the DEK in CBC mode using m_iv for the IV. This allows the ROM to jump to any given section without needing to read the previous cipher block. In addition, the data for each section is prefixed with a "boot tag", which describes the section which follows it.</p>
<p>The section table starts immediately after the image header, coming before the key dictionary (if present). The section table is not encrypted. </p>
</div><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Collaboration diagram for sb_section_table_t:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="structsb__section__table__t__coll__graph.svg" width="155" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="aff4aa33f43201ee007667a00a8291cb8"></a><a class="el" href="group__sb__file__format.html#structsb__section__header__t">sb_section_header_t</a></td>
<td class="fieldname">
m_sections[1]</td>
<td class="fielddoc">
The table entries. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gabc6126af1d45847bc59afa0aa3216b04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag constants for the m_flags field of <a class="el" href="group__sb__file__format.html#structsb__image__header__t" title="Header for the entire boot image. ">sb_image_header_t</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggabc6126af1d45847bc59afa0aa3216b04af3772a8a2c141ecd55e7bf3f7940155e"></a>ROM_DISPLAY_PROGRESS&#160;</td><td class="fielddoc">
<p>Print progress reports. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggabc6126af1d45847bc59afa0aa3216b04a508a440c599acdf52cff16397cd58fe2"></a>ROM_VERBOSE_PROGRESS&#160;</td><td class="fielddoc">
<p>Progress reports are verbose. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="gadc29c2ff13d900c2f185ee95427fb06c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Section flags constants for the m_flags field of <a class="el" href="group__sb__file__format.html#structsb__section__header__t" title="Information about each section, held in the section table. ">sb_section_header_t</a>. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggadc29c2ff13d900c2f185ee95427fb06ca38cc512e287d441e317ec2bba9b3b0c0"></a>ROM_SECTION_BOOTABLE&#160;</td><td class="fielddoc">
<p>The section contains bootloader commands. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggadc29c2ff13d900c2f185ee95427fb06ca3973a06d46c03b5607ca7f44d2b58deb"></a>ROM_SECTION_CLEARTEXT&#160;</td><td class="fielddoc">
<p>The section is unencrypted. Applies only if the rest of the boot image is encrypted. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 3 2015 16:21:26 for Kinetis Bootloader by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
