<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Kinetis Bootloader: SPI Master Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis Bootloader
   &#160;<span id="projectnumber">1.2.0</span>
   </div>
   <div id="projectbrief">Common bootloader for Kinetis devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Introduction</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__spi__master__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">SPI Master Driver<div class="ingroups"><a class="el" href="group__drivers.html">Device Drivers</a> &raquo; <a class="el" href="group__spi.html">SPI</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SPI master mode peripheral driver.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for SPI Master Driver:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__spi__master__driver.svg" width="224" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structspi__device__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a></td></tr>
<tr class="memdesc:structspi__device__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a device on the SPI bus.  <a href="group__spi__master__driver.html#structspi__device__t">More...</a><br /></td></tr>
<tr class="separator:structspi__device__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga427122f80e42b2207809b5a89cc58131"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga427122f80e42b2207809b5a89cc58131">_spi_timeouts</a> { <a class="el" href="group__spi__master__driver.html#gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b">kSpiWaitForever</a> = 0xffffffffU
 }</td></tr>
<tr class="separator:ga427122f80e42b2207809b5a89cc58131"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Init and shutdown</h2></td></tr>
<tr class="memitem:gadb768ca7e0c5d45c6f81959c12d388be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#gadb768ca7e0c5d45c6f81959c12d388be">spi_master_init</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict device)</td></tr>
<tr class="memdesc:gadb768ca7e0c5d45c6f81959c12d388be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a SPI instance for master mode operation.  <a href="#gadb768ca7e0c5d45c6f81959c12d388be">More...</a><br /></td></tr>
<tr class="separator:gadb768ca7e0c5d45c6f81959c12d388be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga585de4ab07459d1d34aa18b19c3eb8f6">spi_master_shutdown</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown a SPI instance.  <a href="#ga585de4ab07459d1d34aa18b19c3eb8f6">More...</a><br /></td></tr>
<tr class="separator:ga585de4ab07459d1d34aa18b19c3eb8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Bus configuration</h2></td></tr>
<tr class="memitem:ga4627fc7e804da52335d3bf047af37c36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga4627fc7e804da52335d3bf047af37c36">spi_master_configure_bus</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *device)</td></tr>
<tr class="memdesc:ga4627fc7e804da52335d3bf047af37c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the SPI port to access a device on the bus.  <a href="#ga4627fc7e804da52335d3bf047af37c36">More...</a><br /></td></tr>
<tr class="separator:ga4627fc7e804da52335d3bf047af37c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Blocking transfers</h2></td></tr>
<tr class="memitem:ga49ed82b016a058779d9625b80ea3302a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga49ed82b016a058779d9625b80ea3302a">spi_master_transfer</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict device, const uint8_t *restrict sendBuffer, uint8_t *restrict receiveBuffer, size_t transferByteCount, uint32_t timeout)</td></tr>
<tr class="memdesc:ga49ed82b016a058779d9625b80ea3302a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a blocking SPI master mode transfer.  <a href="#ga49ed82b016a058779d9625b80ea3302a">More...</a><br /></td></tr>
<tr class="separator:ga49ed82b016a058779d9625b80ea3302a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Non-blocking transfers</h2></td></tr>
<tr class="memitem:ga99ed6469d8f0689a3fab9f962a6e8f25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga99ed6469d8f0689a3fab9f962a6e8f25">spi_master_transfer_async</a> (uint32_t instance, const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict device, const uint8_t *restrict sendBuffer, uint8_t *restrict receiveBuffer, size_t transferByteCount)</td></tr>
<tr class="memdesc:ga99ed6469d8f0689a3fab9f962a6e8f25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform an non-blocking SPI master mode transfer.  <a href="#ga99ed6469d8f0689a3fab9f962a6e8f25">More...</a><br /></td></tr>
<tr class="separator:ga99ed6469d8f0689a3fab9f962a6e8f25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga677195951d9943a9a6ce246ee44c54b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga677195951d9943a9a6ce246ee44c54b4">spi_master_get_tranfer_status</a> (uint32_t instance, uint32_t *bytesTransferred)</td></tr>
<tr class="memdesc:ga677195951d9943a9a6ce246ee44c54b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the previous transfer has finished yet.  <a href="#ga677195951d9943a9a6ce246ee44c54b4">More...</a><br /></td></tr>
<tr class="separator:ga677195951d9943a9a6ce246ee44c54b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b2a5fbd178c9ac660cf1e6e74670478"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__spi__master__driver.html#ga3b2a5fbd178c9ac660cf1e6e74670478">spi_master_abort_transfer</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga3b2a5fbd178c9ac660cf1e6e74670478"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates an asynchronous transfer early.  <a href="#ga3b2a5fbd178c9ac660cf1e6e74670478">More...</a><br /></td></tr>
<tr class="separator:ga3b2a5fbd178c9ac660cf1e6e74670478"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Usage Information</h2>
<p>SPI master mode peripheral driver. </p>


<h3><a class="anchor" id="spimaster"></a>SPI Master Driver</h3><div class="textblock"><h1>Overview</h1>
The SPI master mode peripheral driver is used to transfer data to and from external devices on the SPI bus in master mode. It provides an easy way to transfer buffers of data with a single function call.<h1>Device structs</h1>
The driver uses instances of the <a class="el" href="group__spi__master__driver.html#structspi__device__t" title="Information about a device on the SPI bus. ">spi_device_t</a> structure to represent the SPI bus configuration required to communicate to an external device that is connected to the bus.The device struct can be passed to the data transfer functions, and the bus will be reconfigured before the transfer is started. Alternatively, you can configure the SPI bus for a device manually. For instance, if there is only one device connected to the bus, you might configure it only once.<h1>Initialization</h1>
To initialize the SPI master driver, simply call <a class="el" href="group__spi__master__driver.html#gadb768ca7e0c5d45c6f81959c12d388be" title="Initialize a SPI instance for master mode operation. ">spi_master_init()</a> and pass the instance number of the SPI peripheral you want to use. For instance, to use SPI1 pass a value of 1 to the init function.If you onlyExample code for initializing and configuring the driver: </p><div class="fragment"><div class="line"><span class="comment">// Define bus configuration.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> device = {</div>
<div class="line">        .busFrequencyKHz = 1000,</div>
<div class="line">        .polarity = <a class="code" href="group__spi__types.html#gga3e5a7cd043c9596779bc23b34cb3d1f9a0b33c8e75da2f2c6a2e821f94cc77f46">kSpiClockPolarity_ActiveHigh</a>,</div>
<div class="line">        .phase = <a class="code" href="group__spi__types.html#gga9ad313685ade497f5cbcb71c74a1b4dca58859ca1e960ebb8f6e1121997c6fbbe">kSpiClockPhase_SecondEdge</a>,</div>
<div class="line">        .direction = <a class="code" href="group__spi__types.html#ggaa68518c16202382c2e1f1c7c66a9d53daefa27165c331b1503fd02a79099e8dfe">kSpiMsbFirst</a></div>
<div class="line">    };</div>
<div class="line"></div>
<div class="line"><span class="comment">// Init driver.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#gadb768ca7e0c5d45c6f81959c12d388be">spi_master_init</a>(0);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Configure bus.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#ga4627fc7e804da52335d3bf047af37c36">spi_master_configure_bus</a>(0, &amp;device);</div>
</div><!-- fragment --><h1>Transfers</h1>
The driver supports two different modes for transferring data, both blocking and nonblocking. The blocking transfer function is <a class="el" href="group__spi__master__driver.html#ga49ed82b016a058779d9625b80ea3302a" title="Perform a blocking SPI master mode transfer. ">spi_master_transfer()</a>.Example of a blocking transfer: </p><div class="fragment"><div class="line">uint8_t sendBuf[] = { 0, 1, 2, 3 };</div>
<div class="line">uint8_t receiveBuf[<span class="keyword">sizeof</span>(sendBuf)];</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#ga49ed82b016a058779d9625b80ea3302a">spi_master_transfer</a>(0,  <span class="comment">// SPI0</span></div>
<div class="line">    &amp;device,            <span class="comment">// Device SPI bus configuration</span></div>
<div class="line">    sendBuf,            <span class="comment">// Data to send</span></div>
<div class="line">    receiveBuf,         <span class="comment">// Buffer to hold received data</span></div>
<div class="line">    <span class="keyword">sizeof</span>(sendBuf),    <span class="comment">// Number of bytes to transfer</span></div>
<div class="line">    <a class="code" href="group__spi__master__driver.html#gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b">kSpiWaitForever</a>);   <span class="comment">// No timeout</span></div>
</div><!-- fragment -->Example of a nonblocking transfer: </p><div class="fragment"><div class="line">uint8_t sendBuf[] = { 0, 1, 2, 3 };</div>
<div class="line">uint8_t receiveBuf[<span class="keyword">sizeof</span>(sendBuf)];</div>
<div class="line"></div>
<div class="line"><span class="comment">// Start the transfer.</span></div>
<div class="line"><a class="code" href="group__spi__master__driver.html#ga99ed6469d8f0689a3fab9f962a6e8f25">spi_master_transfer_async</a>(0,  <span class="comment">// SPI0</span></div>
<div class="line">    &amp;device,            <span class="comment">// Device SPI bus configuration</span></div>
<div class="line">    sendBuf,            <span class="comment">// Data to send</span></div>
<div class="line">    receiveBuf,         <span class="comment">// Buffer to hold received data</span></div>
<div class="line">    <span class="keyword">sizeof</span>(sendBuf));   <span class="comment">// Number of bytes to transfer</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Wait for the transfer to complete.</span></div>
<div class="line"><span class="keywordflow">while</span> (spi_master_get_transfer_status(0, NULL) == <a class="code" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a703abdf7900047c4d13536480f3463ab">kStatus_SPI_Busy</a>)</div>
<div class="line">{</div>
<div class="line">}</div>
</div><!-- fragment --> </div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structspi__device__t" id="structspi__device__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct spi_device_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Information about a device on the SPI bus. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ac5d256f364b81ced9275ce185928ed42"></a>uint32_t</td>
<td class="fieldname">
busClockMHz</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a0225cb6eff453e2b600cd716d7591926"></a>uint32_t</td>
<td class="fieldname">
busFrequencyKHz</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a922971f3575436fa256e597e726bc299"></a><a class="el" href="group__spi__types.html#gaa68518c16202382c2e1f1c7c66a9d53d">spi_shift_direction_t</a></td>
<td class="fieldname">
direction</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="adf91212251d17d10a90ac83272b19932"></a><a class="el" href="group__spi__types.html#ga9ad313685ade497f5cbcb71c74a1b4dc">spi_clock_phase_t</a></td>
<td class="fieldname">
phase</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6c4f3ea5884c73ca0a6f0d93e19db159"></a><a class="el" href="group__spi__types.html#ga3e5a7cd043c9596779bc23b34cb3d1f9">spi_clock_polarity_t</a></td>
<td class="fieldname">
polarity</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga427122f80e42b2207809b5a89cc58131"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__spi__master__driver.html#ga427122f80e42b2207809b5a89cc58131">_spi_timeouts</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="gga427122f80e42b2207809b5a89cc58131a2bb5fb851db88e497ad03eff0ced1b6b"></a>kSpiWaitForever&#160;</td><td class="fielddoc">
<p>Wait forever for a transfer to complete. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3b2a5fbd178c9ac660cf1e6e74670478"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> spi_master_abort_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminates an asynchronous transfer early. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was succesful. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4627fc7e804da52335d3bf047af37c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_configure_bus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the SPI port to access a device on the bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information struct. This struct contains the settings for how the SPI bus will be configured. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga677195951d9943a9a6ce246ee44c54b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> spi_master_get_tranfer_status </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>bytesTransferred</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns whether the previous transfer has finished yet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">bytesTransferred</td><td>Pointer to value that will be filled in with the number of bytes that have been sent in the active transfer</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">kStatus_Success</td><td>The transfer has completed successfully. </td></tr>
    <tr><td class="paramname">kStatus_SPI_Busy</td><td>The transfer is still in progress. <em>bytesTransferred</em> will be filled with the number of bytes that have been transferred so far. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gadb768ca7e0c5d45c6f81959c12d388be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a SPI instance for master mode operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga585de4ab07459d1d34aa18b19c3eb8f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_master_shutdown </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown a SPI instance. </p>
<p>Resets the SPI peripheral and gates its clock.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga49ed82b016a058779d9625b80ea3302a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> spi_master_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>transferByteCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a blocking SPI master mode transfer. </p>
<p>This function simultaneously sends and receives data on the SPI bus, as SPI is naturally a full-duplex bus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information struct. This struct contains the settings for how the SPI bus will be configured for this transfer. You may pass NULL for this parameter, in which case the current bus configuration is used unmodified. </td></tr>
    <tr><td class="paramname">sendBuffer</td><td>Buffer of data to send. You may pass NULL for this parameter, in which case bytes with a value of 0 (zero) will be sent. </td></tr>
    <tr><td class="paramname">receiveBuffer</td><td>Buffer where received bytes are stored. If you pass NULL for this parameter, the received bytes are ignored. </td></tr>
    <tr><td class="paramname">transferByteCount</td><td>The number of bytes to send and receive. </td></tr>
    <tr><td class="paramname">timeout</td><td>A timeout for the transfer in microseconds. If the transfer takes longer than this amount of time, the transfer will be aborted and a <a class="el" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a> error will be returned.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was succesful. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a703abdf7900047c4d13536480f3463ab" title="SPI instance is already busy performing a transfer. ">kStatus_SPI_Busy</a></td><td>Cannot perform another transfer because one is already in progress. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a></td><td>The transfer timed out and was aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga99ed6469d8f0689a3fab9f962a6e8f25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__platform__status.html#gaaabdaf7ee58ca7269bd4bf24efcde092">status_t</a> spi_master_transfer_async </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__spi__master__driver.html#structspi__device__t">spi_device_t</a> *restrict&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *restrict&#160;</td>
          <td class="paramname"><em>sendBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *restrict&#160;</td>
          <td class="paramname"><em>receiveBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>transferByteCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform an non-blocking SPI master mode transfer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The instance number of the SPI peripheral. </td></tr>
    <tr><td class="paramname">device</td><td>Pointer to the device information struct. This struct contains the settings for how the SPI bus will be configured for this transfer. You may pass NULL for this parameter, in which case the current bus configuration is used unmodified. </td></tr>
    <tr><td class="paramname">sendBuffer</td><td>Buffer of data to send. You may pass NULL for this parameter, in which case bytes with a value of 0 (zero) will be sent. </td></tr>
    <tr><td class="paramname">receiveBuffer</td><td>Buffer where received bytes are stored. If you pass NULL for this parameter, the received bytes are ignored. </td></tr>
    <tr><td class="paramname">transferByteCount</td><td>The number of bytes to send and receive.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">#kStatus_Success</td><td>The transfer was succesful. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a703abdf7900047c4d13536480f3463ab" title="SPI instance is already busy performing a transfer. ">kStatus_SPI_Busy</a></td><td>Cannot perform another transfer because one is already in progress. </td></tr>
    <tr><td class="paramname"><a class="el" href="group__spi__types.html#ggae14e5c7f7471ccd1d1d90867a2eac373a496ced6fffc33d7bbeb01d203dfc4836" title="SPI tranfser timed out. ">kStatus_SPI_Timeout</a></td><td>The transfer timed out and was aborted. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Jun 3 2015 16:21:26 for Kinetis Bootloader by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
